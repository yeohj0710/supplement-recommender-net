{
  "startId": "q_age",
  "nodes": [
    {
      "id": "q_age",
      "kind": "number",
      "text": "나이를 입력하세요(만 나이).",
      "min": 18,
      "max": 80,
      "featureKey": "f_age"
    },
    {
      "id": "q_gender",
      "kind": "single",
      "text": "성별을 선택하세요.",
      "options": [
        { "id": "m", "text": "남성", "value": 1 },
        { "id": "f", "text": "여성", "value": 0 }
      ],
      "featureKey": "f_is_male"
    },
    {
      "id": "q_height",
      "kind": "number",
      "text": "키(cm)를 입력하세요.",
      "min": 140,
      "max": 210,
      "featureKey": "f_height_cm"
    },
    {
      "id": "q_weight",
      "kind": "number",
      "text": "체중(kg)을 입력하세요.",
      "min": 35,
      "max": 160,
      "featureKey": "f_weight_kg"
    },
    {
      "id": "q_pregnant",
      "kind": "boolean",
      "text": "임신/임신 계획 또는 수유 중인가요?",
      "featureKey": "f_pregnant"
    },
    {
      "id": "q_screen_time",
      "kind": "likert",
      "text": "하루 스크린 사용 시간",
      "options": [
        { "id": "1", "text": "<2h", "value": 1 },
        { "id": "2", "text": "2-4h", "value": 2 },
        { "id": "3", "text": "4-6h", "value": 3 },
        { "id": "4", "text": "6-8h", "value": 4 },
        { "id": "5", "text": ">8h", "value": 5 }
      ],
      "featureKey": "f_screen_time"
    },
    {
      "id": "q_eye_fatigue",
      "kind": "likert",
      "text": "눈 피로/시야 흐림 정도",
      "options": [
        { "id": "1", "text": "전혀 없음", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_eye_fatigue"
    },
    {
      "id": "q_sleep_quality",
      "kind": "likert",
      "text": "수면 질 저하 정도",
      "options": [
        { "id": "1", "text": "매우 좋음", "value": 1 },
        { "id": "2", "text": "좋음", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "나쁨", "value": 4 },
        { "id": "5", "text": "매우 나쁨", "value": 5 }
      ],
      "featureKey": "f_sleep_quality"
    },
    {
      "id": "q_stress_level",
      "kind": "likert",
      "text": "스트레스 정도",
      "options": [
        { "id": "1", "text": "매우 낮음", "value": 1 },
        { "id": "2", "text": "낮음", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "높음", "value": 4 },
        { "id": "5", "text": "매우 높음", "value": 5 }
      ],
      "featureKey": "f_stress_level"
    },
    {
      "id": "q_digest_issue",
      "kind": "likert",
      "text": "소화 불편/변비·복통 빈도",
      "options": [
        { "id": "1", "text": "전혀 없음", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_digest_issue"
    },
    {
      "id": "q_immune_low",
      "kind": "likert",
      "text": "면역 저하(감기 잦음 등)",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_immune_low"
    },
    {
      "id": "q_skin_issue",
      "kind": "likert",
      "text": "피부 트러블/탄력 저하",
      "options": [
        { "id": "1", "text": "전혀 없음", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_skin_issue"
    },
    {
      "id": "q_hair_loss",
      "kind": "likert",
      "text": "탈모/모발 문제",
      "options": [
        { "id": "1", "text": "전혀 없음", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_hair_loss"
    },
    {
      "id": "q_joint_pain",
      "kind": "likert",
      "text": "관절 통증/뻣뻣함",
      "options": [
        { "id": "1", "text": "전혀 없음", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_joint_pain"
    },
    {
      "id": "q_bone_concern",
      "kind": "likert",
      "text": "뼈 건강 걱정",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_bone_concern"
    },
    {
      "id": "q_lipid_issue",
      "kind": "likert",
      "text": "지질/콜레스테롤 걱정",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_lipid_issue"
    },
    {
      "id": "q_bp_issue",
      "kind": "likert",
      "text": "혈압 걱정",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_bp_issue"
    },
    {
      "id": "q_blood_sugar_issue",
      "kind": "likert",
      "text": "혈당 걱정",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_blood_sugar_issue"
    },
    {
      "id": "q_sun_low",
      "kind": "likert",
      "text": "햇빛 노출이 매우 적음",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_sun_exposure_low"
    },
    {
      "id": "q_fish_low",
      "kind": "likert",
      "text": "생선 섭취가 매우 적음",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_fish_intake_low"
    },
    {
      "id": "q_alcohol_freq",
      "kind": "number",
      "text": "주간 음주일수(0~7)",
      "min": 0,
      "max": 7,
      "featureKey": "f_alcohol_freq"
    },
    {
      "id": "q_caffeine_sensitive",
      "kind": "boolean",
      "text": "카페인에 예민한 편인가요?",
      "featureKey": "f_caffeine_sensitive"
    },
    {
      "id": "q_vegan",
      "kind": "boolean",
      "text": "비건 식단을 유지하나요?",
      "featureKey": "f_vegan"
    },
    {
      "id": "q_low_dairy",
      "kind": "boolean",
      "text": "유제품 섭취가 적나요?",
      "featureKey": "f_low_dairy"
    },
    {
      "id": "q_activity_low",
      "kind": "likert",
      "text": "활동량이 낮은 편",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_activity_low"
    },
    {
      "id": "q_memory_concern",
      "kind": "likert",
      "text": "기억력/집중력 저하를 느낍니다",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_memory_concern"
    },
    {
      "id": "q_circulation_issue",
      "kind": "likert",
      "text": "혈액순환/말초 순환 문제를 느낍니다",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_circulation_issue"
    },
    {
      "id": "q_weight_goal",
      "kind": "likert",
      "text": "체중 관리가 가장 큰 목표입니다",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_weight_goal"
    },
    {
      "id": "q_fiber_low",
      "kind": "likert",
      "text": "식이섬유 섭취가 부족합니다",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_fiber_low"
    },
    {
      "id": "q_mineral_def",
      "kind": "likert",
      "text": "무기질 부족 증상을 자주 느낍니다(쥐남, 피로 등)",
      "options": [
        { "id": "1", "text": "전혀 아님", "value": 1 },
        { "id": "2", "text": "가끔", "value": 2 },
        { "id": "3", "text": "보통", "value": 3 },
        { "id": "4", "text": "자주", "value": 4 },
        { "id": "5", "text": "매우 자주", "value": 5 }
      ],
      "featureKey": "f_mineral_def_signs"
    }
  ],
  "edges": [
    { "from": "q_age", "to": "q_gender" },
    { "from": "q_gender", "to": "q_height" },
    { "from": "q_height", "to": "q_weight" },
    {
      "from": "q_gender",
      "to": "q_pregnant",
      "when": { "op": "eq", "lhs": "answers.q_gender", "rhs": 0 }
    },
    {
      "from": "q_gender",
      "to": "q_screen_time",
      "when": { "op": "eq", "lhs": "answers.q_gender", "rhs": 1 }
    },
    { "from": "q_pregnant", "to": "q_screen_time" },
    { "from": "q_screen_time", "to": "q_eye_fatigue" },
    { "from": "q_eye_fatigue", "to": "q_sleep_quality" },
    { "from": "q_sleep_quality", "to": "q_stress_level" },
    { "from": "q_stress_level", "to": "q_digest_issue" },
    {
      "from": "q_digest_issue",
      "to": "q_fiber_low",
      "when": { "op": "gte", "lhs": "answers.q_digest_issue", "rhs": 3 }
    },
    {
      "from": "q_digest_issue",
      "to": "q_immune_low",
      "when": { "op": "lt", "lhs": "answers.q_digest_issue", "rhs": 3 }
    },
    { "from": "q_fiber_low", "to": "q_immune_low" },
    { "from": "q_immune_low", "to": "q_skin_issue" },
    { "from": "q_skin_issue", "to": "q_hair_loss" },
    { "from": "q_hair_loss", "to": "q_joint_pain" },
    { "from": "q_joint_pain", "to": "q_bone_concern" },
    { "from": "q_bone_concern", "to": "q_lipid_issue" },
    { "from": "q_lipid_issue", "to": "q_bp_issue" },
    { "from": "q_bp_issue", "to": "q_blood_sugar_issue" },
    { "from": "q_blood_sugar_issue", "to": "q_sun_low" },
    { "from": "q_sun_low", "to": "q_fish_low" },
    { "from": "q_fish_low", "to": "q_alcohol_freq" },
    { "from": "q_alcohol_freq", "to": "q_caffeine_sensitive" },
    { "from": "q_caffeine_sensitive", "to": "q_vegan" },
    { "from": "q_vegan", "to": "q_low_dairy" },
    { "from": "q_low_dairy", "to": "q_activity_low" },
    {
      "from": "q_activity_low",
      "to": "q_weight_goal",
      "when": {
        "op": "or",
        "args": [
          { "op": "gte", "lhs": "answers.q_activity_low", "rhs": 4 },
          { "op": "gte", "lhs": "answers.q_weight", "rhs": 90 }
        ]
      }
    },
    {
      "from": "q_activity_low",
      "to": "q_memory_concern",
      "when": { "op": "gte", "lhs": "answers.q_stress_level", "rhs": 4 }
    },
    { "from": "q_memory_concern", "to": "q_circulation_issue" },
    { "from": "q_weight_goal", "to": "q_circulation_issue" },
    { "from": "q_circulation_issue", "to": "q_mineral_def" }
  ]
}
